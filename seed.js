// backend/seed.js
const mongoose = require('mongoose');
const dotenv = require('dotenv');
const Product = require('./models/Product'); // ุงุณุชุฏุนุงุก ุชุตููู ุงูููุชุฌ

dotenv.config();

// ูุงุฆูุฉ ุงูููุชุฌุงุช ุงูุชู ูุฑูุฏ ุฅุถุงูุชูุง (ููุณ ุงูุชู ูุงูุช ูู ุงููุงุฌูุฉ)
const sampleProducts = [
  { 
    name: "ุทูู ููุงุณููู", 
    price: 8500, 
    category: "ุฃูุจุณุฉ", 
    image: "bg-blue-200", // ุณูุญูุธ "ููู ุงูุฎูููุฉ" ูุคูุชุงู ููุงู ุฑุงุจุท ุงูุตูุฑุฉ
    description: "ุทูู ุฑุณูู ุฃููู ููุงุณุจ ููููุงุณุจุงุช ูุงูุนูู."
  },
  { 
    name: "ุณุงุนุฉ ูุฏ ุฑุฌุงููุฉ", 
    price: 3200, 
    category: "ุณุงุนุงุช", 
    image: "bg-gray-200",
    description: "ุณุงุนุฉ ููุงููุฉ ูููุงุก ุจุชุตููู ุนุตุฑู."
  },
  { 
    name: "ุญุฐุงุก ุทุจู ูุฑูุญ", 
    price: 4500, 
    category: "ุฃุญุฐูุฉ", 
    image: "bg-amber-100",
    description: "ุญุฐุงุก ูุตููุน ูู ุงูุฌูุฏ ุงูุทุจูุนู ูุฑุงุญุฉ ุงููุฏููู."
  },
  { 
    name: "ุดุงุด (ุนูุงูุฉ)", 
    price: 1200, 
    category: "ุดุงุด", 
    image: "bg-white border",
    description: "ุดุงุด ููุนูุฉ ููุชุงุฒุฉ ูุชููุฑ ุจุนุฏุฉ ุฃููุงู."
  },
  { 
    name: "ูุธุงุฑุงุช ุดูุณูุฉ", 
    price: 1500, 
    category: "ูุธุงุฑุงุช", 
    image: "bg-slate-200",
    description: "ูุธุงุฑุงุช ุญูุงูุฉ ูู ุงูุฃุดุนุฉ ููู ุงูุจููุณุฌูุฉ."
  },
  { 
    name: "ุนุทุฑ ูุงุฎุฑ", 
    price: 2800, 
    category: "ุนุทุฑ", 
    image: "bg-rose-100",
    description: "ุนุทุฑ ุจุฑุงุฆุญุฉ ุงูุนูุฏ ูุงูุนูุจุฑ ุชุฏูู ุทูููุงู."
  },
  { 
    name: "ุนุจุงูุฉ ุฑุฌุงููุฉ", 
    price: 6000, 
    category: "ุนุจุงุกุงุช", 
    image: "bg-emerald-100",
    description: "ุนุจุงูุฉ ูุทุฑุฒุฉ ุจุฎููุท ุญุฑูุฑูุฉ."
  }
];

// ุฏุงูุฉ ุงูุงุชุตุงู ูุงูุชุนุจุฆุฉ
const importData = async () => {
  try {
    // 1. ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
    await mongoose.connect(process.env.MONGO_URI);
    console.log('โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช');

    // 2. ูุณุญ ูู ุงูููุชุฌุงุช ุงููุฏููุฉ (ููุจุฏุก ุนูู ูุธุงูุฉ)
    await Product.deleteMany();
    console.log('๐๏ธ ุชู ูุณุญ ุงูุจูุงูุงุช ุงููุฏููุฉ');

    // 3. ุฅุถุงูุฉ ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ
    await Product.insertMany(sampleProducts);
    console.log('โ ุชู ุฅุถุงูุฉ ุงูููุชุฌุงุช ุงูุฌุฏูุฏุฉ ุจูุฌุงุญ!');

    // 4. ุงูุฎุฑูุฌ
    process.exit();

  } catch (error) {
    console.error('โ ุญุฏุซ ุฎุทุฃ:', error);
    process.exit(1);
  }
};

importData();